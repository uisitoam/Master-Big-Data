\documentclass[10pt]{opticajnl}
\journal{opticajournal} % use for journal or Optica Open submissions

% See template introduction for guidance on setting shortarticle option
\setboolean{shortarticle}{true}
% true = letter/tutorial
% false = research/review article

% ONLY applicable for journal submission shortarticle types:
% When \setboolean{shortarticle}{true}
% then \setboolean{memo}{true} will print "Memorandum" on title page header
% Otherwise header will remain as "Letter"
% \setboolean{memo}{true}
\usepackage{lineno}
\usepackage{listings}
\usepackage{xcolor}  % Para colorear el código

% Definir colores para la sintaxis de Python
\definecolor{pystring}{RGB}{186,33,33}      % Strings
\definecolor{pycomment}{RGB}{107,107,107}   % Comentarios
\definecolor{pykeyword}{RGB}{0,119,170}     % Palabras clave
\definecolor{pybuiltin}{RGB}{163,21,21}     % Funciones builtin
\definecolor{pybackground}{RGB}{250,250,250} % Fondo

% Definir el estilo para código Python
\lstdefinestyle{Python}{
    language=Python,
    backgroundcolor=\color{pybackground},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    commentstyle=\color{pycomment},
    keywordstyle=\color{pykeyword},
    stringstyle=\color{pystring},
    identifierstyle=\color{black},
    numberstyle=\tiny\color{gray},
    emphstyle=\color{pybuiltin},
    morekeywords={import,from,as,def,class,return,yield,for,while,if,else,elif,
                  try,except,finally,with,lambda,assert,pass,break,continue,
                  raise,global,nonlocal,True,False,None,and,or,not,is,in},
    emph={pandas,numpy,matplotlib,seaborn,sklearn,tensorflow,torch,
          plt,pd,np,sns,print,len,range,enumerate,zip,dict,list,tuple,set,
          min,max,sum,sorted,map,filter},
}

\lstdefinestyle{sql}{
  language=SQL,
  showspaces=false, 
  basicstyle=\ttfamily,
  numbers=left,
  numberstyle=\tiny,
  backgroundcolor=\color{gray!10},
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{green!70}\ttfamily,
  stringstyle=\color{red!70}\ttfamily,
  breaklines=true,
  morekeywords={CREATE, DROP, TABLE, SELECT, INSERT, UPDATE, DELETE, FROM, WHERE, JOIN, ON, AS}, % Puedes añadir más palabras clave específicas de SQL.
  literate={``}{``}1 {''}{''}1 {“}{``}1 {”}{''}1 {‘}{`}1 {’}{'}1
}

\lstdefinestyle{terminal}{
  backgroundcolor=\color{white},   % Fondo blanco
  basicstyle=\color{black}\ttfamily, % Texto negro en fuente monoespaciada
  keywordstyle=\color{blue}\bfseries, % Palabras clave en azul y negrita
  commentstyle=\color{green!70}\ttfamily, % Comentarios en verde
  stringstyle=\color{red}\ttfamily, % Cadenas en rojo
  morekeywords={sudo, apt-get, install, cd, ls, mkdir, rm, rmdir, cp, mv, echo, cat, nano, vim, grep, find, chmod, chown, systemctl, service, update, upgrade, reboot, shutdown, exit}, % Comandos comunes de terminal
  breaklines=true, % Permitir saltos de línea
  frame=single, % Marco alrededor del código
  framerule=0.5pt, % Grosor del marco
  rulecolor=\color{gray}, % Color del marco
  xleftmargin=0.05\textwidth, % Margen izquierdo
  xrightmargin=0.05\textwidth, % Margen derecho
  aboveskip=1em, % Espacio antes del bloque de código
  belowskip=1em % Espacio después del bloque de código
}
\definecolor{rstring}{RGB}{186,33,33}     % Strings
\definecolor{rcomment}{RGB}{0,128,0}      % Comentarios
\definecolor{rfunction}{RGB}{0,0,255}      % Funciones
\definecolor{rkeyword}{RGB}{145,0,145}    % Palabras clave
\definecolor{rbackground}{RGB}{248,248,248} % Fondo

\lstdefinestyle{R}{
    language=R,
    backgroundcolor=\color{rbackground},
    basicstyle=\ttfamily\small,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    commentstyle=\color{rcomment},
    keywordstyle=\color{rkeyword},
    stringstyle=\color{rstring},
    identifierstyle=\color{black},
    numberstyle=\tiny\color{gray},
    morekeywords={library, data.frame, read.csv, ggplot, aes, geom_bar, theme_minimal, 
                  scale_fill_manual, gather, group_by, summarise, arrange, filter},
}


%\linenumbers % Turn off line numbering for Optica Open preprint submissions.

\title{Apache Hop}

\author[1,2,3]{Luis Ardévol Mesa}


\begin{abstract}
El objetivo de esta práctica es familiarizarse con Apache Hop. Para ello, se importarán las transformaciones y los trabajos de la ETL implementados con Pentaho Spoon y se comprobarán si los resultados obtenidos con Apache Hop son consistentes con los de PDI.
\end{abstract}

\setboolean{displaycopyright}{false} % Do not include copyright or licensing information in submission.

\begin{document}

\maketitle

Tras la instalación, abrimos Apache Hop ejecutando el archivo \texttt{hop-gui.sh}'. Una vez dentro, importamos los trabajos y las transformaciones con la opción ``import from Kettle/PDI'' y nos aseguramos que en cada bloque esté fijado el path a la transformación correspondiente (Apache Hop genera archivos .hpl) y ejecuta sin ningún problema, dando resultados consistentes con los de PDI.

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{fotos/import.png}
\caption{Resultado de la importación de los archivos de PDI a Apache Hop}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=\textwidth]{fotos/bien.png}
\caption{Resultado de la ejecución de la ETL completa en Apache Hop.}
\end{figure}


\end{document}
