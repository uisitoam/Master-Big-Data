\documentclass[10pt]{opticajnl}
\journal{opticajournal} % use for journal or Optica Open submissions

% See template introduction for guidance on setting shortarticle option
\setboolean{shortarticle}{true}
% true = letter/tutorial
% false = research/review article

% ONLY applicable for journal submission shortarticle types:
% When \setboolean{shortarticle}{true}
% then \setboolean{memo}{true} will print "Memorandum" on title page header
% Otherwise header will remain as "Letter"
% \setboolean{memo}{true}
\usepackage{lineno}
\usepackage{listings}
\usepackage{xcolor}  % Para colorear el código

\lstdefinestyle{sql}{
  language=SQL,
  showspaces=false, 
  basicstyle=\ttfamily,
  numbers=left,
  numberstyle=\tiny,
  backgroundcolor=\color{gray!10},
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{green!70}\ttfamily,
  stringstyle=\color{red!70}\ttfamily,
  breaklines=true,
  morekeywords={CREATE, DROP, TABLE, SELECT, INSERT, UPDATE, DELETE, FROM, WHERE, JOIN, ON, AS}, % Puedes añadir más palabras clave específicas de SQL.
  literate={``}{``}1 {''}{''}1 {“}{``}1 {”}{''}1 {‘}{`}1 {’}{'}1
}

\lstdefinestyle{terminal}{
  backgroundcolor=\color{white},   % Fondo blanco
  basicstyle=\color{black}\ttfamily, % Texto negro en fuente monoespaciada
  keywordstyle=\color{blue}\bfseries, % Palabras clave en azul y negrita
  commentstyle=\color{green!70}\ttfamily, % Comentarios en verde
  stringstyle=\color{red}\ttfamily, % Cadenas en rojo
  morekeywords={sudo, apt-get, install, cd, ls, mkdir, rm, rmdir, cp, mv, echo, cat, nano, vim, grep, find, chmod, chown, systemctl, service, update, upgrade, reboot, shutdown, exit}, % Comandos comunes de terminal
  breaklines=true, % Permitir saltos de línea
  frame=single, % Marco alrededor del código
  framerule=0.5pt, % Grosor del marco
  rulecolor=\color{gray}, % Color del marco
  xleftmargin=0.05\textwidth, % Margen izquierdo
  xrightmargin=0.05\textwidth, % Margen derecho
  aboveskip=1em, % Espacio antes del bloque de código
  belowskip=1em % Espacio después del bloque de código
}


%\linenumbers % Turn off line numbering for Optica Open preprint submissions.

\title{Uso de HDFS}

\author[1,2,3]{Luis Ardévol Mesa}


\begin{abstract}
Práctica 3.
\end{abstract}

\setboolean{displaycopyright}{false} % Do not include copyright or licensing information in submission.

\begin{document}

\maketitle

\section{Primero}

\begin{lstlisting}[style=terminal]
    hdfs dfs -mkdir /user/hdadmin/cuota_test
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfsadmin -setQuota 4 /user/hdadmin/cuota_test
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    touch archivo1.txt
    touch archivo2.txt
    touch archivo3.txt
    touch archivo4.txt
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfs -put archivo1.txt /user/hdadmin/cuota_test/
    hdfs dfs -put archivo2.txt /user/hdadmin/cuota_test/
    hdfs dfs -put archivo3.txt /user/hdadmin/cuota_test/
    hdfs dfs -put archivo4.txt /user/hdadmin/cuota_test/
\end{lstlisting}


\section{Segunda}

\begin{lstlisting}[style=terminal]
    hdfs fsck / -files -blocks -locations
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfsadmin -report
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs fsck / -files -blocks -locations
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs fsck / -list-corruptfileblocks
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs fsck /user/luser/fichero_grande -files -blocks -locations
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfsadmin -report
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs fsck / -files -blocks -locations
\end{lstlisting}


\section{Tercera}

\begin{lstlisting}[style=terminal]
    hdfs fsck / -files -blocks -locations
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs ec -listPolicies
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs ec -enablePolicy -policy RS-3-2-1024k
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfs -mkdir /user/grandes
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs ec -setPolicy -path /user/grandes -policy RS-3-2-1024k
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfsadmin -report
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfs -get /user/luser/fichero_grande fichero_grande
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfs -expunge
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfs -put /user/luser/fichero_grande /user/grandes/
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs dfsadmin -report
\end{lstlisting}

\begin{lstlisting}[style=terminal]
    hdfs fsck /user/grandes/fichero_grande -files -blocks -locations
\end{lstlisting}

\end{document}
